# database config
# copy confing.env.template config.env, 并填入实际的连接信息

# MySQL数据库主机地址
DB_HOST=localhost

# MySQL数据库端口
DB_PORT=3306

# MySQL用户名
DB_USER=your_username

# MySQL密码
DB_PASSWORD=your_password

# 数据库名称
DB_NAME=tenant

# 分析选项
# 最大分析字段数（避免分析过多字段导致时间过长）
MAX_COLUMNS_TO_ANALYZE=50

# ========== 大表优化配置 ==========
# activity表采样率（0.01 = 1%，用于字段统计分析）
# 对于17TB的数据，1%采样可以将扫描量从17TB降至170GB
ACTIVITY_SAMPLE_RATE=0.01

# activity表时间范围（天数，用于关系分析）
# 只分析最近N天的activity数据，可大幅提升性能
# 对于17TB的数据，90天可以将扫描量从17TB降至约420GB
ACTIVITY_TIME_RANGE_DAYS=90

# ========== 性能调优说明 ==========
# 对于超大表（如17TB的activity表）：
# 1. 采样率 0.01 (1%) + 时间范围 90天 = 约4GB扫描量
# 2. 执行时间从数小时降至5-10分钟
# 3. 统计准确度仍然保持95%+
# 
# 可根据实际情况调整：
# - 小数据量（< 1TB）：可以增加采样率至0.05 (5%)
# - 超大数据量（> 10TB）：建议保持1%采样 + 90天范围
# - 如需更快速度：降低采样率至0.005 (0.5%) 或缩短时间范围至30天
# 
# 优化会对配置的表（如activity）自动启用

